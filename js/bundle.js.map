{"version":3,"sources":["webpack:///webpack/bootstrap a4bc15bbff20c1f8d0a9","webpack:///./js/pathfinder.js","webpack:///./js/board.js","webpack:///./js/cell.js"],"names":["document","addEventListener","window","createjs","stage","Stage","board","drawGrid","Cell","Board","Ticker","evt","paused","update","handleMouseMove","bind","toggleObstacle","e","currX","Math","floor","stageX","currY","stageY","prevX","prevY","console","log","cell","getObjectUnderPoint","isStart","setStart","isGoal","setGoal","start","goal","toggleIsObstacle","x","y","fillByString","i","j","on","target","addChild","easelObj","getChildAt","Shape","isObstacle","color","COLORS","moveTo","fill","graphics","beginFill","drawRect","colorString","_fill"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a4bc15bbff20c1f8d0a9","import Board from './board';\n\ndocument.addEventListener('DOMContentLoaded', ()=> {\n  window.createjs = createjs;\n\n  const stage = new createjs.Stage('main-canvas');\n  const board = new Board(stage);\n  window.board = board;\n  board.drawGrid();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/pathfinder.js","import Cell from './cell';\nwindow.Cell = Cell;\n\nclass Board {\n  constructor(stage) {\n    this.stage = stage;\n    createjs.Ticker.addEventListener(\"tick\", evt => {\n      if(!evt.paused) {\n        this.stage.update();\n      }\n    });\n\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.toggleObstacle = this.toggleObstacle.bind(this);\n  }\n\n  handleMouseMove(e) {\n    const currX = Math.floor(e.stageX/10)*10;\n    const currY = Math.floor(e.stageY/10)*10;\n    const prevX = this.handleMouseMove.prevX;\n    const prevY = this.handleMouseMove.prevY;\n    console.log(currX, currY);\n\n    //only allow pressmove in discrete cells\n    if (currX !== prevX || currY !== prevY) {\n        const cell = this.stage.getObjectUnderPoint(currX, currY);\n        if (this.isStart(prevX, prevY)) {\n          this.setStart(cell);\n        } else if (this.isGoal(prevX, prevY)) {\n          this.setGoal(cell);\n        } else {\n          this.toggleObstacle(cell);\n        }\n\n        this.handleMouseMove.prevX = currX;\n        this.handleMouseMove.prevY = currY;\n    }\n  }\n\n  toggleObstacle(cell) {\n    if (this.start === cell || this.goal === cell) {\n      return false;\n    }\n\n    cell.toggleIsObstacle();\n    return true;\n  }\n\n  isStart(x, y) {\n    return x === this.start.x && y === this.start.y;\n  }\n\n  isGoal(x, y) {\n    return x === this.goal.x && y === this.goal.y;\n  }\n\n  setStart(cell) {\n    if(this.start) {\n      this.start.fillByString('empty');\n    }\n    cell.fillByString('start');\n    this.start = cell;\n  }\n\n  setGoal(cell) {\n    if(this.goal) {\n      this.goal.fillByString('empty');\n    }\n    cell.fillByString('goal');\n    this.goal = cell\n  }\n\n  drawGrid() {\n    for(let i = 0; i < 15; i ++ ){\n      for(let j = 0; j < 15; j ++){\n        const cell = new Cell(i*10, j*10);\n        cell.on('click', (e) => this.toggleObstacle(e.target))\n        this.stage.addChild(cell.easelObj())\n      }\n    }\n\n    this.setStart(this.stage.getChildAt(10));\n    this.setGoal(this.stage.getChildAt(98));\n\n    this.stage.on('pressmove', this.handleMouseMove);\n    this.stage.on('pressup', () => {\n      console.log('pressup');\n\n      this.handleMouseMove.prevX = null;\n      this.handleMouseMove.prevY = null;\n    });\n  }\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./js/board.js","class Cell {\n  constructor(x, y) {\n    this.cell = new createjs.Shape();\n    this.isObstacle = false;\n    this.color = Cell.COLORS['empty'];\n\n    this.moveTo(x, y);\n    this.on = this.cell.on.bind(this.cell);\n  }\n\n  toggleIsObstacle() {\n    this.color =  this.isObstacle? Cell.COLORS['obstacle'] : Cell.COLORS['empty'];\n    this.fill(this.color)\n    this.isObstacle = !this.isObstacle;\n  }\n\n  _fill(color) {\n    this.cell.graphics.beginFill(color).drawRect(0,0,10,10);\n  }\n\n  fillByString(colorString) {\n    this.color = Cell.COLORS[colorString];\n    this._fill(Cell.COLORS[colorString]);\n  }\n\n  moveTo(x, y) {\n    this.cell.x = x;\n    this.cell.y = y;\n  }\n\n  easelObj() {\n    return this.cell;\n  }\n}\n\nCell.COLORS = {\n  'empty': '#e8e8e8',\n  'start': '#ff0000',\n  'goal': '#0000ff',\n  'obstacle': '#c1c1c1'\n};\n\nexport default Cell;\n\n\n\n// WEBPACK FOOTER //\n// ./js/cell.js"],"sourceRoot":""}